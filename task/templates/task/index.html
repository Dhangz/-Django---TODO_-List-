{% extends 'base.html' %}

{% block  body %}


<section class="vh-100 gradient-custom-2">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-md-12 col-xl-10">

        {% if messages %}

        {% for message in messages %}
          <div class="alert alert-primary alert-dismissible fade show bg-transparent border-light" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}

        <div class="card mask-custom">


          <div class="card-body p-4 text-white">

            <div class="text-center pt-3 pb-2">
              <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-todo-list/check1.webp"
                alt="Check" width="60">
              <h2 class="my-4 text-warning">Task List</h2>
            </div>
            
        
            <div class="container">
              <a class="btn btn-primary mb-5" href="{% url 'add-task' %}"><i class="fa-solid fa-plus"></i>  <small>New Task</small></a>
            <table class="table table-hover table-active text-white mb-0 ">
              <thead>
                <tr>
                  <th scope="col">Task</th>
                  <th scope="col">Description</th>
                  <th scope="col">Priority</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for task in tasks %}
                <tr class="fw-normal">
                  {% comment %} <th style="padding: 10px" >
                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava1-bg.webp"
                      alt="avatar 1" style="width: 45px; height: auto;">
                    <span class="ms-2">Alice Mayer</span>
                  </th> {% endcomment %}
                  <td class="align-middle" style="padding: 20px">
                    <span>{{ task.title }}</span>
                  </td>
                  <td class="align-middle">
                    <span>{{ task.description }}</span>
                  </td>
                  <td class="align-middle">
                    {% if task.priority == 'low' %}
                      <h6 class="mb-0"><span class="badge bg-warning" style="padding: 10px 20px; border-radius: 25px;">{{ task.priority }}</span></h6>
                    {% elif task.priority == 'medium' %}
                      <h6 class="mb-0"><span class="badge bg-success" style="padding: 10px 20px; border-radius: 25px;" >{{ task.priority }}</span></h6>
                    {% else %}
                      <h6 class="mb-0"><span class="badge bg-danger" style="padding: 10px 20px; border-radius: 25px;" >{{ task.priority }}</span></h6>
                    {% endif %}
                  </td>
                  <td class="align-middle">
                    <a href="{% url 'update-task' task.id %}" data-mdb-toggle="tooltip" title="Done"><i
                        class="fas fa-edit fa-lg text-warning me-3"></i></a>
                    <a href="{% url 'delete-task' task.id  %}" data-mdb-toggle="tooltip" title="Remove"><i
                        class="fas fa-trash-alt fa-lg text-danger"></i></a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>

          </div>
        </div>

      </div>
    </div>
  </div>
</section>
{% endblock %}